<!--
  Shows a panel containing all the versions and executables for the current
  Application.
-->

<div class="panel panel-default">
  <div class="panel-heading">
    <h2 class="panel-title"> Download </h2>
  </div>
  <div class="panel-body">
    <p>

      {% with latest_executables=app.get_latest_executable %}
        {% if latest_executables %}
          {% for exe in latest_executables %}

            {% if exe.release_platform.family == 'linux' %}
              <a href="{{ exe.executable_file.url }}" class="disabled">
                <div class="col-md-4 text-center">
                  <i class="fa fa-linux fa-4x" aria-hidden="true"></i>
                </div>
              </a>
            {% elif exe.release_platform.family == 'windows' %}
              <a href="{{ exe.executable_file.url }}">
                <div class="col-md-4 text-center">
                  <i class="fa fa-windows fa-4x" aria-hidden="true"></i>
                </div>
              </a>
            {% elif exe.release_platform.family == 'osx' %}
              <a href="{{ exe.executable_file }}">
                <div class="col-md-4 text-center">
                  <i class="fa fa-apple fa-4x" aria-hidden="true"></i>
                </div>
              </a>
            {% endif %}

          {% endfor %}
          <br>
        {% else %}
          No executable has been uploaded for the latest version of {{ app }}.
        {% endif %}
      {% endwith %}



      {% if user.id is app.developer.user.id %}
        {# TODO #}
        {# ====> <a href="{% url 'softhub:executable_update' executable.id %}">Update this executable</a> #}
      {% endif %}

      <p>
        {# TODO #}
        <a href="#">See all the versions</a>
      </p>

    </p>
  </div>
</div>
